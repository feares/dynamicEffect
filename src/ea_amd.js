define(function(n){var g="0.0.1";var e=null;var o={};var b=function(x){return new b.prototype.Init(x)};b.prototype={"Init":function(x){e=a();if(!x){return this}if(x.jquery){this.elm=x[0]}else{if(j(x,"dom")){this.elm=x}else{if(x.indexOf("#")===0){this.elm=document.getElementById(x.substr(1))}else{if(x.indexOf(".")===0){var y=document.getElementsByClassName(x.substr(1));if(y&&y.length>0){this.elm=y[0]}}}}}return this},"getVersion":function(){return g},"constructor":b,"create":function(z,C){var A=this;c(this.elm,e.lowercase,x);if(z.name&&z.keyframe){var y="";var B=z.name+" "+u(z.time)+"s";y="@"+e.css+"keyframes "+z.name+" {"+f(z.keyframe,e.css)+"}";w(y,z.name);if(!z.easing){z.easing="ease"}if(!z.delay){z.delay=0}if(!z.count){z.count=1}else{if(z.count==="forever"){z.count="infinite"}}if(z.back===true){z.back="alternate"}else{z.back="normal"}B+=" "+z.easing+" "+z.delay+"s "+z.count+" "+z.back;p(this.elm,e.js,"animation",B);if(!z.save){p(this.elm,e.js,"animationFillMode","none")}else{p(this.elm,e.js,"animationFillMode","forwards")}return this}function x(){if(C){C()}if(!z.save){d(A.elm,A.prefixed.js)}}},"move":function(x,z,A){var y="";p(this.elm,e.js,"transition",u(z)+"s");if(A){c(this.elm,e.lowercase,A)}if(x.top){y+=" translateY(-"+x.top+"px)"}if(x.right){y+=" translateX("+x.right+"px)"}if(x.bottom){y+=" translateY("+x.bottom+"px)"}if(x.left){y+=" translateX(-"+x.left+"px)"}if(x.up){y+=" translateZ("+x.up+"px)"}if(x.down){y+=" translateZ(-"+x.down+"px)"}if(x.mix){y+=s(this.elm,e.js,"transform")}p(this.elm,e.js,"transform",y);return this},"rotate":function(x,z,A){p(this.elm,e.js,"transition",u(z)+"s");if(A){c(this.elm,e.lowercase,A)}var y="";if(x.x){y+=" rotateX("+x.x+"deg)"}else{y+=" rotateX(0deg)"}if(x.y){y+=" rotateY("+x.y+"deg)"}else{y+=" rotateY(0deg)"}if(x.p){y="perspective("+x.p+"px)"+y;h(this.elm,{"transform-style":"preserve-3d"})}if(x.mix){y+=s(this.elm,e.js,"transform")}p(this.elm,e.js,"transform",y);return this},"skew":function(x,z,A){p(this.elm,e.js,"transition",u(z)+"s");if(A){c(this.elm,e.lowercase,A)}var y="";if(x.x){y=" skewX("+x.x+"deg)"}else{y+=" skewX(0deg)"}if(x.y){y+=" skewY("+x.y+"deg)"}else{y+=" skewY(0deg)"}if(x.mix){y+=s(this.elm,e.js,"transform")}p(this.elm,e.js,"transform",y);return this},"scale":function(x,z,A){p(this.elm,e.js,"transition",u(z)+"s");if(A){c(this.elm,e.lowercase,A)}if(!x.x){x.x=1}if(!x.y){x.y=1}var y=" scale("+x.x+","+x.y+")";if(x.mix){y+=s(this.elm,e.js,"transform")}p(this.elm,e.js,"transform",y);return this},"show":function(x,y){p(this.elm,e.js,"transition",u(x)+"s");if(y){c(this.elm,e.lowercase,y)}h(this.elm,{opacity:1});return this},"hide":function(x,y){p(this.elm,e.js,"transition",u(x)+"s");if(y){c(this.elm,e.lowercase,y)}h(this.elm,{opacity:0});return this},"trigger":function(A,C,D){if(j(C,"function")){D=C;C=false}var B=this;c(this.elm,e.lowercase,x);if(j(A,"array")){for(var z=0,y=A.length;z<y;z++){q(this.elm,A[z])}}else{q(this.elm,A)}function x(){if(D){D()}if(!C){r(B.elm,A)}}return this},"stop":function(z){if(z){if(j(z,"array")){for(var y=0,x=z.length;y<x;y++){r(this.elm,z[y])}}else{r(this.elm,z)}}d(this.elm,e.js);return this},"delete":function(x){i(x)},"initKeyFrame":function(A){if(A){var z="";if(j(A,"array")){for(var y=0,x=A.length;y<x;y++){z="@"+e.css+"keyframes "+A[y].name+" {"+f(A[y].keyframe,e.css)+"}";w(z,A[y].name)}}else{z="@"+e.css+"keyframes "+A.name+" {"+f(A.keyframe,e.css)+"}";w(z,A.name)}}},"run":function(y,B){var z=this;c(this.elm,e.lowercase,x);if(y.name){var A=y.name+" "+u(y.time)+"s";if(!y.easing){y.easing="ease"}if(!y.delay){y.delay=0}if(!y.count){y.count=1}else{if(y.count==="forever"){y.count="infinite"}}if(y.back===true){y.back="alternate"}else{y.back="normal"}A+=" "+y.easing+" "+y.delay+"s "+y.count+" "+y.back;p(this.elm,e.js,"animation",A);if(!y.save){p(this.elm,e.js,"animationFillMode","none")}else{p(this.elm,e.js,"animationFillMode","forwards")}return this}function x(){if(B){B()}if(!y.save){d(z.elm,z.prefixed.js)}}},"update":function(z,B){var y=l(z);if(y.length>0){for(var A=0,x=B.length;A<x;A++){y[0].insertRule(B[A])}}}};b.prototype.Init.prototype=b.prototype;function a(){var x=window.getComputedStyle(document.documentElement,"");var y=(Array.prototype.slice.call(x).join("").match(/-(moz|webkit|ms)-/)||(x.OLink===""&&["","o"]))[1];var z=("WebKit|Moz|MS|O").match(new RegExp("("+y+")","i"))[1];return{dom:z,lowercase:y,uppercase:y.toUpperCase(),css:"-"+y+"-",js:y[0].toUpperCase()+y.substr(1)}}function l(A){var C=document.styleSheets;var z=[];for(var B=0,x=C.length;B<x;B++){for(var y=0;y<C[B].cssRules.length;y++){if(C[B].cssRules[y].type===window.CSSRule.KEYFRAMES_RULE&&C[B].cssRules[y].name===A){z.push(C[B].cssRules[y])}}}return z}function f(B,y){var A="";for(var z=0,x=B.length;z<x;z++){A+=B[z]}A=A.replace(/transform/g,y+"transform");A=A.replace(/animation/g,y+"animation");return A}function w(A,x){if(o[x]){return}var z=null;var y=document.head||document.getElementsByTagName("head")[0];z=document.getElementsByTagName("style")[0];if(!z){z=document.createElement("style");
z.type="text/css"}if(z.styleSheet){var B=function(){try{z.styleSheet.cssText+=A}catch(D){k("addCSS faild")}};if(z.styleSheet.disabled){setTimeout(B,10)}else{B()}}else{var C=document.createTextNode(A);z.appendChild(C)}y.appendChild(z);o[x]=A}function i(x){var A=null;var y=document.head||document.getElementsByTagName("head")[0];A=document.getElementsByTagName("style")[0];var z=o[x];if(A.styleSheet){var B=function(){try{A.styleSheet.cssText=A.styleSheet.cssText.replace(z,"")}catch(C){k("removeCSS faild")}};if(A.styleSheet.disabled){setTimeout(B,10)}else{B()}}else{A.innerText=A.innerText.replace(z,"")}y.appendChild(A)}function u(y,x){if(!y){return 0}if(!x){x=1}return(y/1000).toFixed(x)}function p(z,x,y,B){var A=x+y.charAt(0).toUpperCase()+y.substring(1);z.style[A]=B}function s(z,x,y){var A=x+y.charAt(0).toUpperCase()+y.substring(1);return z.style[A]}function d(y,x){p(y,x,"transition","0s");p(y,x,"transform","");p(y,x,"animation","")}function c(y,x,B){var z=function(){B();t(y,x==="o"?"oanimationend":x+"AnimationEnd",z);t(y,"animationend",z)};var A=function(){B();t(y,x+"TransitionEnd",A);t(y,"transitionend",A)};m(y,x==="o"?"oanimationend":x+"AnimationEnd",z);m(y,"animationend",z);m(y,x==="o"?"otransitionend":x+"TransitionEnd",A);m(y,"transitionend",A)}function h(B,A){if(B.length){for(var z=0,x=B.length;z<x;z++){arguments.callee(B[z],A)}}else{if(arguments.length===2){for(var y in A){if(A.hasOwnProperty(y)){B.style[y]=A[y]}}}else{B.style[arguments[2]]=arguments[3]}}}function j(A,z){var x=false;var y=Object.prototype.toString.call(A);switch(z){case"number":if(y==="[object Number]"){x=true}break;case"string":if(y==="[object String]"){x=true}break;case"boolean":if(y==="[object Boolean]"){x=true}break;case"array":if(y==="[object Array]"){x=true}break;case"function":if(y==="[object Function]"){x=true}break;case"object":if(y==="[object Object]"){x=true}break;case"null":if(y==="[object Null]"){x=true}break;case"undefined":if(y==="[object Undefined]"){x=true}break;case"dom":if(y==="[object HTMLDivElement]"){x=true}break}return x}function q(x,y){if(x.className.indexOf(y)===-1){x.className+=" "+y}}function r(x,y){var z=x.className;if(z.indexOf(y)>-1){x.className=z.replace(" "+y,"");x.className=z.replace(y,"")}}function k(x,y){if(window.console){console.log(x)}}function m(x,z,y){if(x.addEventListener){x.addEventListener(z,y,false)}else{if(x.attachEvent){x.attachEvent("on"+z,y)}else{x["on"+z]=y}}}function t(x,z,y){if(x.removeEventListener){x.removeEventListener(z,y,false)}else{if(x.detachEvent){x.detachEvent("on"+z,y)}else{x["on"+z]=null}}}var v=b;return v});
